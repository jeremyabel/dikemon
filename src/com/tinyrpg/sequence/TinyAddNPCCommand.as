package com.tinyrpg.sequence {	import com.tinyrpg.data.TinyFieldMapObjectNPC;	import com.tinyrpg.data.TinyPositionXMLData;	import com.tinyrpg.managers.TinyMapManager;		import flash.geom.Point;	/**	 * @author jeremyabel	 */	public class TinyAddNPCCommand 	{		public var position		: TinyPositionXMLData;		public var spriteName	: String;		public var eventName	: String;		public var npcName 		: String;		public var facing		: String;				public function TinyAddNPCCommand() : void 		{ 				}				public static function newFromXML( xmlData : XML ) : TinyAddNPCCommand		{			var newNPCCommand : TinyAddNPCCommand = new TinyAddNPCCommand();						// Get sprite name			newNPCCommand.spriteName = xmlData.child( 'SPRITE_NAME' ).toString();						// Get npc name			newNPCCommand.npcName = xmlData.child( 'NPC_NAME' ).toString();						// Get event name			newNPCCommand.eventName = xmlData.child( 'EVENT_NAME' ).toString();						// Get facing			newNPCCommand.facing = xmlData.child( 'FACING' ).toString();						// Get location			newNPCCommand.position = TinyPositionXMLData.newFromXML( xmlData.child( 'POSITION' ) );						return newNPCCommand;		}				public function execute() : void		{			// Create new NPC object			var npcObject : TinyFieldMapObjectNPC = new TinyFieldMapObjectNPC();			npcObject.spriteName = this.spriteName;			npcObject.eventName = this.eventName;			npcObject.npcName = this.npcName;			npcObject.facing = this.facing;			npcObject.dataReady();						// Set position			npcObject.x = this.position.x;			npcObject.y = this.position.y;						// Add to the current map			TinyMapManager.getInstance().currentMap.addNPCObject( npcObject );				}	}}